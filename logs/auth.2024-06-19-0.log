2024-06-19 20:19:26.999 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-06-19 20:19:27.006 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-06-19 20:19:35.639 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Starting WebookAuthApplication using Java 17.0.11 with PID 43884 (E:\IDEAWorkplace\webook\webook\webook-auth\target\classes started by 姜文武 in E:\IDEAWorkplace\webook\webook)
2024-06-19 20:19:35.642 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - The following 1 profile is active: "dev"
2024-06-19 20:19:36.170 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-19 20:19:36.172 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-19 20:19:36.197 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2024-06-19 20:19:36.793 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-19 20:19:36.793 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.2.34] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.1]
2024-06-19 20:19:36.794 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.34] using APR version [1.7.0].
2024-06-19 20:19:36.798 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1o  3 May 2022]
2024-06-19 20:19:36.805 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-06-19 20:19:36.806 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-06-19 20:19:36.929 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-19 20:19:36.929 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1256 ms
2024-06-19 20:19:37.009 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-06-19 20:19:37.309 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-06-19 20:19:38.157 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-19 20:19:38.163 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Started WebookAuthApplication in 2.903 seconds (process running for 6.925)
2024-06-19 20:19:38.164 [main] INFO  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2024-06-19 20:19:38.700 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - ==>  Preparing: select id, role_key, role_name from t_role where status = 0 and is_deleted = 0
2024-06-19 20:19:38.831 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - ==> Parameters: 
2024-06-19 20:19:38.852 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - <==      Total: 1
2024-06-19 20:19:38.869 [main] ERROR c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 同步角色权限数据到 Redis 中失败...
2024-06-19 20:25:41.671 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-06-19 20:25:41.682 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-06-19 20:25:46.348 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Starting WebookAuthApplication using Java 17.0.11 with PID 12824 (E:\IDEAWorkplace\webook\webook\webook-auth\target\classes started by 姜文武 in E:\IDEAWorkplace\webook\webook)
2024-06-19 20:25:46.349 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - The following 1 profile is active: "dev"
2024-06-19 20:25:46.824 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-19 20:25:46.826 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-19 20:25:46.857 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2024-06-19 20:25:47.446 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-19 20:25:47.447 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.2.34] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.1]
2024-06-19 20:25:47.447 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.34] using APR version [1.7.0].
2024-06-19 20:25:47.449 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1o  3 May 2022]
2024-06-19 20:25:47.456 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-06-19 20:25:47.456 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-06-19 20:25:47.534 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-19 20:25:47.534 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1153 ms
2024-06-19 20:25:47.607 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-06-19 20:25:47.854 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-06-19 20:25:48.610 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-19 20:25:48.615 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Started WebookAuthApplication in 2.635 seconds (process running for 2.993)
2024-06-19 20:25:48.617 [main] INFO  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2024-06-19 20:25:48.880 [main] WARN  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2024-06-19 20:28:20.592 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-06-19 20:28:20.606 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-06-19 20:28:22.509 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Starting WebookAuthApplication using Java 17.0.11 with PID 37520 (E:\IDEAWorkplace\webook\webook\webook-auth\target\classes started by 姜文武 in E:\IDEAWorkplace\webook\webook)
2024-06-19 20:28:22.512 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - The following 1 profile is active: "dev"
2024-06-19 20:28:23.006 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-19 20:28:23.009 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-19 20:28:23.037 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2024-06-19 20:28:23.636 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-19 20:28:23.637 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.2.34] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.1]
2024-06-19 20:28:23.637 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.34] using APR version [1.7.0].
2024-06-19 20:28:23.638 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1o  3 May 2022]
2024-06-19 20:28:23.645 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-06-19 20:28:23.645 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-06-19 20:28:23.721 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-19 20:28:23.721 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1179 ms
2024-06-19 20:28:23.788 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-06-19 20:28:24.038 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-06-19 20:28:24.807 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-19 20:28:24.814 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Started WebookAuthApplication in 2.656 seconds (process running for 3.022)
2024-06-19 20:28:24.816 [main] INFO  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2024-06-19 20:28:25.129 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - ==>  Preparing: select id, role_key, role_name from t_role where status = 0 and is_deleted = 0
2024-06-19 20:28:25.282 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - ==> Parameters: 
2024-06-19 20:28:25.329 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - <==      Total: 1
2024-06-19 20:28:25.351 [main] ERROR c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 同步角色权限数据到 Redis 中失败: 
org.mybatis.spring.MyBatisSystemException: null
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:97)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy72.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy83.selectByRoleIds(Unknown Source)
	at com.jacob.micro.auth.runner.PushRolePermissions2RedisRunner.run(PushRolePermissions2RedisRunner.java:70)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:748)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.jacob.micro.auth.WebookAuthApplication.main(WebookAuthApplication.java:12)
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'roleIds' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:3344)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:121)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:258)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:586)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:550)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:46)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2024-06-19 20:29:24.206 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-06-19 20:29:24.210 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-06-19 20:29:26.217 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Starting WebookAuthApplication using Java 17.0.11 with PID 26284 (E:\IDEAWorkplace\webook\webook\webook-auth\target\classes started by 姜文武 in E:\IDEAWorkplace\webook\webook)
2024-06-19 20:29:26.219 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - The following 1 profile is active: "dev"
2024-06-19 20:29:26.699 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-19 20:29:26.701 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-19 20:29:26.720 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-06-19 20:29:27.216 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-19 20:29:27.216 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.2.34] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.1]
2024-06-19 20:29:27.216 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.34] using APR version [1.7.0].
2024-06-19 20:29:27.218 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1o  3 May 2022]
2024-06-19 20:29:27.224 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-06-19 20:29:27.224 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-06-19 20:29:27.309 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-19 20:29:27.310 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1060 ms
2024-06-19 20:29:27.384 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-06-19 20:29:27.635 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-06-19 20:29:28.348 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-19 20:29:28.354 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Started WebookAuthApplication in 2.53 seconds (process running for 2.975)
2024-06-19 20:29:28.356 [main] INFO  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2024-06-19 20:29:28.614 [main] WARN  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2024-06-19 20:29:54.166 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-19 20:29:54.166 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-19 20:29:54.167 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-19 20:29:54.291 [http-nio-8080-exec-1] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求开始: [发送短信验证码], 入参: {"phone":"13362179496"}, 请求类: VerificationCodeController, 请求方法: send =================================== 
2024-06-19 20:29:54.301 [http-nio-8080-exec-1] INFO  c.j.m.a.service.impl.VerificationCodeServiceImpl - ==》 手机号：13362179496， 已发送验证码：【822620】
2024-06-19 20:29:54.301 [task-1] INFO  com.jacob.micro.auth.sms.AliyunSmsHelper - ==> 开始短信发送，phone: 13362179496, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"822620"}
2024-06-19 20:29:54.305 [http-nio-8080-exec-1] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求结束: [发送短信验证码], 耗时: 19ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2024-06-19 20:29:55.284 [task-1] INFO  com.jacob.micro.auth.sms.AliyunSmsHelper - ==> 短信发送成功，response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 19 Jun 2024 12:29:55 GMT","content-length":"110","keep-alive":"timeout=25","x-acs-request-id":"D1A0789F-6D44-588E-AC05-CAAAACB05571","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"17XrD2VAo1Y6j19YU2teNPw0","access-control-expose-headers":"*","x-acs-trace-id":"a8fbd6cc95ea65fc3d2915da103c15d4"},"statusCode":200,"body":{"bizId":"460511618800195057^0","code":"OK","message":"OK","requestId":"D1A0789F-6D44-588E-AC05-CAAAACB05571"}}
2024-06-19 20:30:05.745 [http-nio-8080-exec-3] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录或注册], 入参: {"code":"822620","password":null,"type":1,"phone":"13362179496"}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2024-06-19 20:30:05.780 [http-nio-8080-exec-3] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2024-06-19 20:30:05.893 [http-nio-8080-exec-3] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13362179496(String)
2024-06-19 20:30:05.918 [http-nio-8080-exec-3] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 0
2024-06-19 20:30:05.919 [http-nio-8080-exec-3] INFO  com.jacob.micro.auth.service.impl.UserServiceImpl - ==> 用户是否注册，phone：13362179496，userDo：null
2024-06-19 20:30:05.927 [http-nio-8080-exec-3] DEBUG c.j.micro.auth.domain.mapper.UserDOMapper.insert - ==>  Preparing: insert into t_user (id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-06-19 20:30:05.996 [http-nio-8080-exec-3] DEBUG c.j.micro.auth.domain.mapper.UserDOMapper.insert - ==> Parameters: null, 1(String), null, 微书1(String), null, null, null, 13362179496(String), null, 0(Integer), null, 2024-06-19T20:30:05.925775300(LocalDateTime), 2024-06-19T20:30:05.925775300(LocalDateTime), false(Boolean)
2024-06-19 20:30:06.021 [http-nio-8080-exec-3] DEBUG c.j.micro.auth.domain.mapper.UserDOMapper.insert - <==    Updates: 1
2024-06-19 20:30:06.023 [http-nio-8080-exec-3] ERROR com.jacob.micro.auth.service.impl.UserServiceImpl - ==> 系统注册用户异常：
java.lang.ArithmeticException: / by zero
	at com.jacob.micro.auth.service.impl.UserServiceImpl.lambda$registerUser$0(UserServiceImpl.java:137)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at com.jacob.micro.auth.service.impl.UserServiceImpl.registerUser(UserServiceImpl.java:119)
	at com.jacob.micro.auth.service.impl.UserServiceImpl.loginAndRegister(UserServiceImpl.java:89)
	at com.jacob.micro.auth.controller.UserController.loginAndRegister(UserController.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jacob.micro.framework.biz.operationlog.aspect.ApiOperationLogAspect.doAround(ApiOperationLogAspect.java:58)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.jacob.micro.auth.controller.UserController$$SpringCGLIB$$0.loginAndRegister(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at cn.dev33.satoken.filter.SaPathCheckFilterForJakartaServlet.doFilter(SaPathCheckFilterForJakartaServlet.java:55)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-06-19 20:30:06.034 [http-nio-8080-exec-3] ERROR c.j.micro.auth.exception.GlobalExceptionHandler - /user/login request error, 
cn.dev33.satoken.exception.SaTokenException: loginId 不能为空
	at cn.dev33.satoken.stp.StpLogic.checkLoginArgs(StpLogic.java:564)
	at cn.dev33.satoken.stp.StpLogic.createLoginSession(StpLogic.java:464)
	at cn.dev33.satoken.stp.StpLogic.login(StpLogic.java:438)
	at cn.dev33.satoken.stp.StpLogic.login(StpLogic.java:397)
	at cn.dev33.satoken.stp.StpUtil.login(StpUtil.java:164)
	at com.jacob.micro.auth.service.impl.UserServiceImpl.loginAndRegister(UserServiceImpl.java:104)
	at com.jacob.micro.auth.controller.UserController.loginAndRegister(UserController.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.jacob.micro.framework.biz.operationlog.aspect.ApiOperationLogAspect.doAround(ApiOperationLogAspect.java:58)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.jacob.micro.auth.controller.UserController$$SpringCGLIB$$0.loginAndRegister(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at cn.dev33.satoken.filter.SaPathCheckFilterForJakartaServlet.doFilter(SaPathCheckFilterForJakartaServlet.java:55)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
2024-06-19 20:31:12.035 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-06-19 20:31:12.040 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-06-19 20:31:15.391 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Starting WebookAuthApplication using Java 17.0.11 with PID 32044 (E:\IDEAWorkplace\webook\webook\webook-auth\target\classes started by 姜文武 in E:\IDEAWorkplace\webook\webook)
2024-06-19 20:31:15.393 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - The following 1 profile is active: "dev"
2024-06-19 20:31:15.850 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-19 20:31:15.851 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-19 20:31:15.871 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-06-19 20:31:16.464 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-19 20:31:16.464 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.2.34] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.1]
2024-06-19 20:31:16.465 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.34] using APR version [1.7.0].
2024-06-19 20:31:16.466 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1o  3 May 2022]
2024-06-19 20:31:16.473 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-06-19 20:31:16.474 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-06-19 20:31:16.545 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-19 20:31:16.545 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1121 ms
2024-06-19 20:31:16.614 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-06-19 20:31:16.853 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-06-19 20:31:17.580 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-19 20:31:17.585 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Started WebookAuthApplication in 2.526 seconds (process running for 2.856)
2024-06-19 20:31:17.586 [main] INFO  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2024-06-19 20:31:17.857 [main] WARN  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2024-06-19 20:31:23.116 [http-nio-8080-exec-3] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-19 20:31:23.116 [http-nio-8080-exec-3] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-19 20:31:23.121 [http-nio-8080-exec-3] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2024-06-19 20:31:23.229 [http-nio-8080-exec-3] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录或注册], 入参: {"code":"822620","password":null,"type":1,"phone":"13362179496"}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2024-06-19 20:31:23.258 [http-nio-8080-exec-3] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2024-06-19 20:31:23.371 [http-nio-8080-exec-3] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13362179496(String)
2024-06-19 20:31:23.389 [http-nio-8080-exec-3] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 0
2024-06-19 20:31:23.391 [http-nio-8080-exec-3] INFO  com.jacob.micro.auth.service.impl.UserServiceImpl - ==> 用户是否注册，phone：13362179496，userDo：null
2024-06-19 20:31:23.397 [http-nio-8080-exec-3] DEBUG c.j.micro.auth.domain.mapper.UserDOMapper.insert - ==>  Preparing: insert into t_user (id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-06-19 20:31:23.461 [http-nio-8080-exec-3] DEBUG c.j.micro.auth.domain.mapper.UserDOMapper.insert - ==> Parameters: null, 2(String), null, 微书2(String), null, null, null, 13362179496(String), null, 0(Integer), null, 2024-06-19T20:31:23.395552100(LocalDateTime), 2024-06-19T20:31:23.395552100(LocalDateTime), false(Boolean)
2024-06-19 20:31:23.467 [http-nio-8080-exec-3] DEBUG c.j.micro.auth.domain.mapper.UserDOMapper.insert - <==    Updates: 1
2024-06-19 20:31:23.470 [http-nio-8080-exec-3] DEBUG c.j.m.auth.domain.mapper.UserRoleDOMapper.insert - ==>  Preparing: insert into t_user_role_rel (id, user_id, role_id, create_time, update_time, is_deleted ) values (?, ?, ?, ?, ?, ? )
2024-06-19 20:31:23.471 [http-nio-8080-exec-3] DEBUG c.j.m.auth.domain.mapper.UserRoleDOMapper.insert - ==> Parameters: null, 6(Long), 1(Long), 2024-06-19T20:31:23.468675100(LocalDateTime), 2024-06-19T20:31:23.468675100(LocalDateTime), false(Boolean)
2024-06-19 20:31:23.475 [http-nio-8080-exec-3] DEBUG c.j.m.auth.domain.mapper.UserRoleDOMapper.insert - <==    Updates: 1
2024-06-19 20:31:23.533 [http-nio-8080-exec-3] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录或注册], 耗时: 312ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"88509166-bd47-463c-b102-7310bcc25111"} =================================== 
2024-06-19 20:33:26.509 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-06-19 20:33:26.514 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-06-19 20:33:29.978 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Starting WebookAuthApplication using Java 17.0.11 with PID 28504 (E:\IDEAWorkplace\webook\webook\webook-auth\target\classes started by 姜文武 in E:\IDEAWorkplace\webook\webook)
2024-06-19 20:33:29.980 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - The following 1 profile is active: "dev"
2024-06-19 20:33:30.504 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-19 20:33:30.507 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-19 20:33:30.531 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2024-06-19 20:33:31.105 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-19 20:33:31.106 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.2.34] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.1]
2024-06-19 20:33:31.106 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.34] using APR version [1.7.0].
2024-06-19 20:33:31.107 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1o  3 May 2022]
2024-06-19 20:33:31.113 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-06-19 20:33:31.114 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-06-19 20:33:31.187 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-19 20:33:31.188 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1175 ms
2024-06-19 20:33:31.262 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-06-19 20:33:31.529 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-06-19 20:33:32.338 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-19 20:33:32.346 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Started WebookAuthApplication in 2.76 seconds (process running for 4.257)
2024-06-19 20:33:32.347 [main] INFO  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2024-06-19 20:33:32.693 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - ==>  Preparing: select id, role_key, role_name from t_role where status = 0 and is_deleted = 0
2024-06-19 20:33:32.806 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - ==> Parameters: 
2024-06-19 20:33:32.822 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - <==      Total: 1
2024-06-19 20:33:32.838 [main] ERROR c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 同步角色权限数据到 Redis 中失败: 
org.mybatis.spring.MyBatisSystemException: null
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:97)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy72.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy83.selectByRoleIds(Unknown Source)
	at com.jacob.micro.auth.runner.PushRolePermissions2RedisRunner.run(PushRolePermissions2RedisRunner.java:70)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:748)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.jacob.micro.auth.WebookAuthApplication.main(WebookAuthApplication.java:12)
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'roleIds' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:3344)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:121)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:258)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:586)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:550)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:46)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2024-06-19 20:35:04.775 [http-nio-8080-exec-2] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-19 20:35:04.775 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-19 20:35:04.775 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-06-19 20:35:04.884 [http-nio-8080-exec-2] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求开始: [发送短信验证码], 入参: {"phone":"13362179496"}, 请求类: VerificationCodeController, 请求方法: send =================================== 
2024-06-19 20:35:04.891 [http-nio-8080-exec-2] INFO  c.j.m.a.service.impl.VerificationCodeServiceImpl - ==》 手机号：13362179496， 已发送验证码：【435605】
2024-06-19 20:35:04.892 [task-1] INFO  com.jacob.micro.auth.sms.AliyunSmsHelper - ==> 开始短信发送，phone: 13362179496, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"435605"}
2024-06-19 20:35:04.894 [http-nio-8080-exec-2] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求结束: [发送短信验证码], 耗时: 16ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2024-06-19 20:35:05.589 [task-1] INFO  com.jacob.micro.auth.sms.AliyunSmsHelper - ==> 短信发送成功，response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 19 Jun 2024 12:35:05 GMT","content-length":"110","keep-alive":"timeout=25","x-acs-request-id":"02DA9E7B-E0F7-5F9D-A98E-F0B6C8D44264","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"16LiYi7udq7cMnxBOlvVirg0","access-control-expose-headers":"*","x-acs-trace-id":"cff929738a05e5ab5a2482837a1fdebf"},"statusCode":200,"body":{"bizId":"921509118800505602^0","code":"OK","message":"OK","requestId":"02DA9E7B-E0F7-5F9D-A98E-F0B6C8D44264"}}
2024-06-19 20:35:16.392 [http-nio-8080-exec-3] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录或注册], 入参: {"code":"435605","password":null,"type":1,"phone":"13362179496"}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2024-06-19 20:35:16.410 [http-nio-8080-exec-3] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2024-06-19 20:35:16.413 [http-nio-8080-exec-3] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13362179496(String)
2024-06-19 20:35:16.415 [http-nio-8080-exec-3] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2024-06-19 20:35:16.417 [http-nio-8080-exec-3] INFO  com.jacob.micro.auth.service.impl.UserServiceImpl - ==> 用户是否注册，phone：13362179496，userDo：{"id":6,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2024-06-19 20:35:16.460 [http-nio-8080-exec-3] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录或注册], 耗时: 69ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"944f832c-a626-4dd7-bc6b-2481a9f8b178"} =================================== 
2024-06-19 20:36:46.799 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-06-19 20:36:46.804 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-06-19 20:36:52.064 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Starting WebookAuthApplication using Java 17.0.11 with PID 8556 (E:\IDEAWorkplace\webook\webook\webook-auth\target\classes started by 姜文武 in E:\IDEAWorkplace\webook\webook)
2024-06-19 20:36:52.065 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - The following 1 profile is active: "dev"
2024-06-19 20:36:52.581 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-19 20:36:52.583 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-19 20:36:52.612 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2024-06-19 20:36:53.206 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-19 20:36:53.207 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.2.34] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.1]
2024-06-19 20:36:53.207 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.34] using APR version [1.7.0].
2024-06-19 20:36:53.208 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1o  3 May 2022]
2024-06-19 20:36:53.215 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-06-19 20:36:53.215 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-06-19 20:36:53.294 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-19 20:36:53.294 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1188 ms
2024-06-19 20:36:53.369 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-06-19 20:36:53.628 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-06-19 20:36:54.448 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-19 20:36:54.455 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Started WebookAuthApplication in 2.789 seconds (process running for 3.282)
2024-06-19 20:36:54.456 [main] INFO  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2024-06-19 20:36:54.764 [main] WARN  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2024-06-19 20:36:59.715 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-19 20:36:59.715 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-19 20:36:59.716 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-19 20:36:59.843 [http-nio-8080-exec-1] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录或注册], 入参: {"code":"435605","password":null,"type":1,"phone":"13362179496"}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2024-06-19 20:36:59.875 [http-nio-8080-exec-1] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2024-06-19 20:36:59.997 [http-nio-8080-exec-1] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13362179496(String)
2024-06-19 20:37:00.019 [http-nio-8080-exec-1] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2024-06-19 20:37:00.026 [http-nio-8080-exec-1] INFO  com.jacob.micro.auth.service.impl.UserServiceImpl - ==> 用户是否注册，phone：13362179496，userDo：{"id":6,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2024-06-19 20:37:00.082 [http-nio-8080-exec-1] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录或注册], 耗时: 248ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"944f832c-a626-4dd7-bc6b-2481a9f8b178"} =================================== 
2024-06-19 20:37:35.617 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-06-19 20:37:35.625 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-06-19 20:37:52.983 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Starting WebookAuthApplication using Java 17.0.11 with PID 11776 (E:\IDEAWorkplace\webook\webook\webook-auth\target\classes started by 姜文武 in E:\IDEAWorkplace\webook\webook)
2024-06-19 20:37:52.984 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - The following 1 profile is active: "dev"
2024-06-19 20:37:53.512 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-19 20:37:53.516 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-19 20:37:53.555 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2024-06-19 20:37:54.125 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-19 20:37:54.126 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.2.34] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.1]
2024-06-19 20:37:54.126 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.34] using APR version [1.7.0].
2024-06-19 20:37:54.127 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1o  3 May 2022]
2024-06-19 20:37:54.133 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-06-19 20:37:54.134 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-06-19 20:37:54.203 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-19 20:37:54.203 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1187 ms
2024-06-19 20:37:54.280 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-06-19 20:37:54.553 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-06-19 20:37:55.367 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-19 20:37:55.375 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Started WebookAuthApplication in 2.788 seconds (process running for 3.327)
2024-06-19 20:37:55.376 [main] INFO  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2024-06-19 20:37:55.705 [main] WARN  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2024-06-19 20:37:59.667 [http-nio-8080-exec-3] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-19 20:37:59.668 [http-nio-8080-exec-3] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-19 20:37:59.670 [http-nio-8080-exec-3] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-06-19 20:37:59.788 [http-nio-8080-exec-3] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录或注册], 入参: {"code":"435605","password":null,"type":1,"phone":"13362179496"}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2024-06-19 20:37:59.818 [http-nio-8080-exec-3] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2024-06-19 20:37:59.936 [http-nio-8080-exec-3] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13362179496(String)
2024-06-19 20:37:59.952 [http-nio-8080-exec-3] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2024-06-19 20:37:59.957 [http-nio-8080-exec-3] INFO  com.jacob.micro.auth.service.impl.UserServiceImpl - ==> 用户是否注册，phone：13362179496，userDo：{"id":6,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2024-06-19 20:38:00.002 [http-nio-8080-exec-3] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录或注册], 耗时: 220ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"944f832c-a626-4dd7-bc6b-2481a9f8b178"} =================================== 
2024-06-19 20:38:28.348 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-06-19 20:38:28.357 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-06-19 20:38:32.877 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Starting WebookAuthApplication using Java 17.0.11 with PID 14916 (E:\IDEAWorkplace\webook\webook\webook-auth\target\classes started by 姜文武 in E:\IDEAWorkplace\webook\webook)
2024-06-19 20:38:32.878 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - The following 1 profile is active: "dev"
2024-06-19 20:38:33.373 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-19 20:38:33.375 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-19 20:38:33.395 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2024-06-19 20:38:33.884 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-19 20:38:33.885 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.2.34] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.1]
2024-06-19 20:38:33.885 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.34] using APR version [1.7.0].
2024-06-19 20:38:33.886 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1o  3 May 2022]
2024-06-19 20:38:33.893 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-06-19 20:38:33.893 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-06-19 20:38:33.965 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-19 20:38:33.965 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1053 ms
2024-06-19 20:38:34.037 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-06-19 20:38:34.286 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-06-19 20:38:35.003 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-19 20:38:35.009 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Started WebookAuthApplication in 2.503 seconds (process running for 2.87)
2024-06-19 20:38:35.010 [main] INFO  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2024-06-19 20:38:35.271 [main] WARN  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2024-06-19 20:38:47.273 [http-nio-8080-exec-3] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-19 20:38:47.274 [http-nio-8080-exec-3] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-19 20:38:47.274 [http-nio-8080-exec-3] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-06-19 20:38:47.382 [http-nio-8080-exec-3] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求开始: [发送短信验证码], 入参: {"phone":"13362179496"}, 请求类: VerificationCodeController, 请求方法: send =================================== 
2024-06-19 20:38:47.390 [http-nio-8080-exec-3] INFO  c.j.m.a.service.impl.VerificationCodeServiceImpl - ==》 手机号：13362179496， 已发送验证码：【000263】
2024-06-19 20:38:47.391 [task-1] INFO  com.jacob.micro.auth.sms.AliyunSmsHelper - ==> 开始短信发送，phone: 13362179496, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"000263"}
2024-06-19 20:38:47.393 [http-nio-8080-exec-3] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求结束: [发送短信验证码], 耗时: 15ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2024-06-19 20:38:48.093 [task-1] INFO  com.jacob.micro.auth.sms.AliyunSmsHelper - ==> 短信发送成功，response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 19 Jun 2024 12:38:48 GMT","content-length":"110","keep-alive":"timeout=25","x-acs-request-id":"62605B54-CD51-574B-B739-F18702381E09","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1ZflHUEMJDezJKsNAzNQLkw0","access-control-expose-headers":"*","x-acs-trace-id":"622b52c37ab7ac5094b0dbf618fb6cd3"},"statusCode":200,"body":{"bizId":"267604518800728088^0","code":"OK","message":"OK","requestId":"62605B54-CD51-574B-B739-F18702381E09"}}
2024-06-19 20:39:38.016 [http-nio-8080-exec-6] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录或注册], 入参: {"code":"000263","password":null,"type":1,"phone":"13362179496"}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2024-06-19 20:39:38.044 [http-nio-8080-exec-6] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2024-06-19 20:39:38.163 [http-nio-8080-exec-6] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13362179496(String)
2024-06-19 20:39:38.180 [http-nio-8080-exec-6] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2024-06-19 20:39:38.184 [http-nio-8080-exec-6] INFO  com.jacob.micro.auth.service.impl.UserServiceImpl - ==> 用户是否注册，phone：13362179496，userDo：{"id":6,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2024-06-19 20:39:38.223 [http-nio-8080-exec-6] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录或注册], 耗时: 207ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"09710a17-9073-4b65-ae32-25cef6f81dd1"} =================================== 
2024-06-19 20:40:45.296 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-06-19 20:40:45.303 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-06-19 20:40:47.091 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Starting WebookAuthApplication using Java 17.0.11 with PID 5296 (E:\IDEAWorkplace\webook\webook\webook-auth\target\classes started by 姜文武 in E:\IDEAWorkplace\webook\webook)
2024-06-19 20:40:47.092 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - The following 1 profile is active: "dev"
2024-06-19 20:40:47.590 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-19 20:40:47.594 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-19 20:40:47.619 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2024-06-19 20:40:48.174 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-19 20:40:48.175 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.2.34] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.1]
2024-06-19 20:40:48.175 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.34] using APR version [1.7.0].
2024-06-19 20:40:48.176 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1o  3 May 2022]
2024-06-19 20:40:48.182 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-06-19 20:40:48.183 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-06-19 20:40:48.258 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-19 20:40:48.259 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1135 ms
2024-06-19 20:40:48.331 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-06-19 20:40:48.580 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-06-19 20:40:49.303 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-19 20:40:49.308 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Started WebookAuthApplication in 2.566 seconds (process running for 2.934)
2024-06-19 20:40:49.308 [main] INFO  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2024-06-19 20:40:49.577 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - ==>  Preparing: select id, role_key, role_name from t_role where status = 0 and is_deleted = 0
2024-06-19 20:40:49.699 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - ==> Parameters: 
2024-06-19 20:40:49.715 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - <==      Total: 1
2024-06-19 20:40:49.730 [main] ERROR c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 同步角色权限数据到 Redis 中失败: 
org.mybatis.spring.MyBatisSystemException: null
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:97)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy72.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy83.selectByRoleIds(Unknown Source)
	at com.jacob.micro.auth.runner.PushRolePermissions2RedisRunner.run(PushRolePermissions2RedisRunner.java:70)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:748)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.jacob.micro.auth.WebookAuthApplication.main(WebookAuthApplication.java:12)
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'roleIds' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:3344)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:121)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:258)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:586)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:550)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:46)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2024-06-19 20:53:22.054 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-06-19 20:53:22.067 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-06-19 21:02:03.346 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Starting WebookAuthApplication using Java 17.0.11 with PID 45232 (E:\IDEAWorkplace\webook\webook\webook-auth\target\classes started by 姜文武 in E:\IDEAWorkplace\webook\webook)
2024-06-19 21:02:03.348 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - The following 1 profile is active: "dev"
2024-06-19 21:02:03.841 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-19 21:02:03.844 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-19 21:02:03.864 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2024-06-19 21:02:04.375 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-19 21:02:04.376 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.2.34] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.1]
2024-06-19 21:02:04.376 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.34] using APR version [1.7.0].
2024-06-19 21:02:04.378 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1o  3 May 2022]
2024-06-19 21:02:04.387 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-06-19 21:02:04.387 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-06-19 21:02:04.461 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-19 21:02:04.461 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1080 ms
2024-06-19 21:02:04.541 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-06-19 21:02:04.812 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-06-19 21:02:05.548 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-19 21:02:05.553 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Started WebookAuthApplication in 2.577 seconds (process running for 2.917)
2024-06-19 21:02:05.554 [main] INFO  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2024-06-19 21:02:05.814 [main] WARN  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2024-06-19 21:02:09.147 [http-nio-8080-exec-2] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-19 21:02:09.147 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-19 21:02:09.148 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-19 21:02:09.268 [http-nio-8080-exec-2] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录或注册], 入参: {"code":"438319","password":null,"type":1,"phone":"13362179496"}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2024-06-19 21:02:09.279 [http-nio-8080-exec-2] WARN  c.j.micro.auth.exception.GlobalExceptionHandler - /user/login request fail, errorCode: AUTH-20000, errorMessage: 请求太频繁，请3分钟后再试
2024-06-19 21:02:31.836 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-06-19 21:02:31.846 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-06-19 21:02:33.904 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Starting WebookAuthApplication using Java 17.0.11 with PID 40404 (E:\IDEAWorkplace\webook\webook\webook-auth\target\classes started by 姜文武 in E:\IDEAWorkplace\webook\webook)
2024-06-19 21:02:33.906 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - The following 1 profile is active: "dev"
2024-06-19 21:02:34.405 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-19 21:02:34.408 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-19 21:02:34.433 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2024-06-19 21:02:34.940 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-19 21:02:34.941 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.2.34] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.1]
2024-06-19 21:02:34.941 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.34] using APR version [1.7.0].
2024-06-19 21:02:34.943 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1o  3 May 2022]
2024-06-19 21:02:34.949 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-06-19 21:02:34.950 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-06-19 21:02:35.023 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-19 21:02:35.023 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1078 ms
2024-06-19 21:02:35.090 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-06-19 21:02:35.344 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-06-19 21:02:36.073 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-19 21:02:36.079 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Started WebookAuthApplication in 2.504 seconds (process running for 2.888)
2024-06-19 21:02:36.080 [main] INFO  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2024-06-19 21:02:36.358 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - ==>  Preparing: select id, role_key, role_name from t_role where status = 0 and is_deleted = 0
2024-06-19 21:02:36.477 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - ==> Parameters: 
2024-06-19 21:02:36.492 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - <==      Total: 1
2024-06-19 21:02:36.507 [main] ERROR c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 同步角色权限数据到 Redis 中失败: 
org.mybatis.spring.MyBatisSystemException: null
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:97)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy72.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy83.selectByRoleIds(Unknown Source)
	at com.jacob.micro.auth.runner.PushRolePermissions2RedisRunner.run(PushRolePermissions2RedisRunner.java:70)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:758)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:748)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.jacob.micro.auth.WebookAuthApplication.main(WebookAuthApplication.java:12)
Caused by: org.apache.ibatis.binding.BindingException: Parameter 'roleIds' not found. Available parameters are [arg0, collection, list]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:210)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:119)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:3344)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:121)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:258)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:586)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:550)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:46)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateIterable(ExpressionEvaluator.java:54)
	at org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(ForEachSqlNode.java:71)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.lambda$apply$0(MixedSqlNode.java:32)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:32)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:39)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:320)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:88)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 14 common frames omitted
2024-06-19 21:07:11.437 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-06-19 21:07:11.450 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-06-19 21:07:15.312 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Starting WebookAuthApplication using Java 17.0.11 with PID 35564 (E:\IDEAWorkplace\webook\webook\webook-auth\target\classes started by 姜文武 in E:\IDEAWorkplace\webook\webook)
2024-06-19 21:07:15.314 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - The following 1 profile is active: "dev"
2024-06-19 21:07:15.868 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-19 21:07:15.871 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-19 21:07:15.904 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2024-06-19 21:07:16.482 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2024-06-19 21:07:16.482 [main] INFO  org.apache.catalina.core.AprLifecycleListener - An older version [1.2.34] of the Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [2.0.1]
2024-06-19 21:07:16.482 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [1.2.34] using APR version [1.7.0].
2024-06-19 21:07:16.484 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 1.1.1o  3 May 2022]
2024-06-19 21:07:16.492 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2024-06-19 21:07:16.493 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2024-06-19 21:07:16.574 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-06-19 21:07:16.574 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1228 ms
2024-06-19 21:07:16.650 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2024-06-19 21:07:16.905 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-06-19 21:07:17.685 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2024-06-19 21:07:17.690 [main] INFO  com.jacob.micro.auth.WebookAuthApplication - Started WebookAuthApplication in 2.746 seconds (process running for 3.113)
2024-06-19 21:07:17.692 [main] INFO  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2024-06-19 21:07:17.989 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - ==>  Preparing: select id, role_key, role_name from t_role where status = 0 and is_deleted = 0
2024-06-19 21:07:18.118 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - ==> Parameters: 
2024-06-19 21:07:18.134 [main] DEBUG c.j.m.a.d.mapper.RoleDOMapper.selectEnabledList - <==      Total: 1
2024-06-19 21:07:18.152 [main] DEBUG c.j.m.a.d.m.RolePermissionDOMapper.selectByRoleIds - ==>  Preparing: select role_id, permission_id from t_role_permission_rel where role_id in ( ? )
2024-06-19 21:07:18.155 [main] DEBUG c.j.m.a.d.m.RolePermissionDOMapper.selectByRoleIds - ==> Parameters: 1(Long)
2024-06-19 21:07:18.157 [main] DEBUG c.j.m.a.d.m.RolePermissionDOMapper.selectByRoleIds - <==      Total: 2
2024-06-19 21:07:18.158 [main] DEBUG c.j.m.a.d.m.P.selectAppEnabledList - ==>  Preparing: select id, name, permission_key from t_permission where status = 0 and type = 3 and is_deleted = 0
2024-06-19 21:07:18.160 [main] DEBUG c.j.m.a.d.m.P.selectAppEnabledList - ==> Parameters: 
2024-06-19 21:07:18.161 [main] DEBUG c.j.m.a.d.m.P.selectAppEnabledList - <==      Total: 2
2024-06-19 21:07:18.195 [main] INFO  c.j.m.auth.runner.PushRolePermissions2RedisRunner - ==> 服务启动，成功同步角色权限数据到 Redis 中...
2024-06-19 21:07:39.151 [http-nio-8080-exec-2] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-19 21:07:39.151 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-06-19 21:07:39.152 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-06-19 21:07:39.246 [http-nio-8080-exec-2] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录或注册], 入参: {"code":"438319","password":null,"type":1,"phone":"13362179496"}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2024-06-19 21:07:39.255 [http-nio-8080-exec-2] WARN  c.j.micro.auth.exception.GlobalExceptionHandler - /user/login request fail, errorCode: AUTH-20000, errorMessage: 请求太频繁，请3分钟后再试
2024-06-19 21:07:42.613 [http-nio-8080-exec-4] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求开始: [发送短信验证码], 入参: {"phone":"13362179496"}, 请求类: VerificationCodeController, 请求方法: send =================================== 
2024-06-19 21:07:42.624 [http-nio-8080-exec-4] INFO  c.j.m.a.service.impl.VerificationCodeServiceImpl - ==》 手机号：13362179496， 已发送验证码：【832809】
2024-06-19 21:07:42.625 [task-1] INFO  com.jacob.micro.auth.sms.AliyunSmsHelper - ==> 开始短信发送，phone: 13362179496, signName: 阿里云短信测试, templateCode: SMS_154950909, templateParam: {"code":"832809"}
2024-06-19 21:07:42.627 [http-nio-8080-exec-4] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求结束: [发送短信验证码], 耗时: 16ms, 出参: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2024-06-19 21:07:43.445 [task-1] INFO  com.jacob.micro.auth.sms.AliyunSmsHelper - ==> 短信发送成功，response: {"headers":{"access-control-allow-origin":"*","date":"Wed, 19 Jun 2024 13:07:43 GMT","content-length":"110","keep-alive":"timeout=25","x-acs-request-id":"AF2E35C6-E2A6-5822-BB61-D0A2E82C6F0B","connection":"keep-alive","content-type":"application/json;charset=utf-8","etag":"1jviaLL+UsIGouNK6lFh5JA0","access-control-expose-headers":"*","x-acs-trace-id":"95216e9ef33454302a81d5035080d8c1"},"statusCode":200,"body":{"bizId":"904320118802463384^0","code":"OK","message":"OK","requestId":"AF2E35C6-E2A6-5822-BB61-D0A2E82C6F0B"}}
2024-06-19 21:07:50.752 [http-nio-8080-exec-3] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求开始: [用户登录或注册], 入参: {"code":"832809","password":null,"type":1,"phone":"13362179496"}, 请求类: UserController, 请求方法: loginAndRegister =================================== 
2024-06-19 21:07:50.763 [http-nio-8080-exec-3] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2024-06-19 21:07:50.764 [http-nio-8080-exec-3] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 13362179496(String)
2024-06-19 21:07:50.768 [http-nio-8080-exec-3] DEBUG c.j.m.a.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2024-06-19 21:07:50.769 [http-nio-8080-exec-3] INFO  com.jacob.micro.auth.service.impl.UserServiceImpl - ==> 用户是否注册，phone：13362179496，userDo：{"id":6,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2024-06-19 21:07:50.807 [http-nio-8080-exec-3] INFO  c.j.m.f.b.o.aspect.ApiOperationLogAspect - ====== 请求结束: [用户登录或注册], 耗时: 55ms, 出参: {"success":true,"message":null,"errorCode":null,"data":"7ce10b78-563a-4d3e-bfe6-5e19bbd56799"} =================================== 
